{"version":3,"file":"smartsettings.es.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import style from './index.css'\n\n/**\n * @class SmartSettings\n * @classdesc SmartSettings module, returns new SmartSettings instance\n * @param {string} name - name of the SmartSettings panel\n * @param {number} left - position of the SmartSettings panel on X axis\n * @param {number} top - position of the SmartSettings panel on Y axis\n * @example\n * const mySettings = new SmartSettings('My Settings', 10, 10)\n*/\nclass SmartSettings {\n    constructor(name = 'SmartSettings', left = 0, top = 0) {\n        this.name = name\n        this.initialLeft = left\n        this.initialTop = top\n\n        /**\n         * @property {boolean} _hidden\n         * @private\n         */\n        this._hidden = false\n\n        /**\n         * @property {boolean} _open\n         * @private\n         */\n        this._open = true\n\n        /**\n         * @property {boolean} _draggable\n         * @private\n         */\n        this._draggable = false\n\n        /**\n         * @property {Node} _panel\n         * @private\n         */\n        this._panel = null\n\n        /**\n         * @property {object} _controls\n         * @private\n         */\n        this._controls = {}\n\n        /**\n         * @property {?function} _globalWatcher\n         * @private\n         */\n        this._globalWatcher = null\n\n        this._createUniqueId()\n        this._create(this.name, this.initialTop, this.initialLeft)\n    }\n\n    /* Utility methods */\n\n    /**\n     * Creates unique element identifier\n     * @private\n     */\n    _createUniqueId() {\n        let counter = 0\n        window.uniqueId = () => `sms-id-${counter++}`\n    }\n     \n    /**\n     * Creates any DOM element\n     * @param {string} type - type of the DOM element\n     * @param {Object} attributes - object with all attributes for the DOM element\n     * @returns {Node}\n     * @private \n     */\n    _createElement(type, attributes) {\n        let element = document.createElement(type)\n        if (attributes) {\n            for (let key in attributes) {\n                if (key === 'class') {\n                    element.setAttribute('class', attributes[key])\n                } else {\n                    element[key] = attributes[key]\n                }\n            }\n        }\n        return element\n    }\n\n    /**\n     * Calls the global watcher\n     * @param {EventListenerObject} event - an event\n     * @returns {void}\n     * @private\n     */\n    _callGlobalWatcher(e) {\n        if (this._globalWatcher) {\n            this._globalWatcher(e)\n        }\n    }\n\n    /**\n     * Assigns config entry to the specific control creation method\n     * @param {object} entry - entry of the config object|array\n     * @private\n     */\n    _assignEntryToMethod(_entry) {\n        let _isCallback = _entry.callback ? _entry.callback : null\n        switch (_entry.type) {\n        case 'button':\n            this.button(_entry.name, _isCallback)\n            break\n        case 'range':\n            this.range(_entry.name, _entry.items, _isCallback)\n            break\n        case 'select':\n            this.select(_entry.name, _entry.items, _isCallback)\n            break\n        case 'text':\n            this.text(_entry.name, _entry.value, _isCallback)\n            break\n        case 'textarea':\n            this.text(_entry.name, _entry.value, _isCallback)\n            break\n        case 'checkbox':\n            this.checkbox(_entry.name, _entry.value, _isCallback)\n            break\n        case 'number':\n            this.number(_entry.name, _entry.items, _isCallback)\n            break\n        case 'color':\n            this.color(_entry.name, _entry.value, _isCallback)\n            break\n        case 'file':\n            this.file(_entry.name, _isCallback)\n        }\n    }\n\n    /* Helper methods */\n\n    /**\n     * Creates settings panel, invoked on class construction\n     * @returns {void}\n     * @private\n     */\n    _create() {\n        let panelAttributes = {\n            class: 'sms-panel',\n            id: uniqueId(),\n            style: `top: ${this.initialTop}px; left: ${this.initialLeft}px; z-index: 2`\n        }\n        let panel = this._createElement('div', panelAttributes)\n        let header = this._createElement('div', { class: 'sms-panel-header' })\n        let body = this._createElement('div', { class: 'sms-panel-body' })\n        let paragraph = this._createElement('p', { class: 'sms-panel-header-name' })\n\n        header.addEventListener('click', e => this.toggle())\n\n        paragraph.innerText = this.name\n        header.appendChild(paragraph)\n        panel.appendChild(header)\n        panel.appendChild(body)\n        this._panel = panel\n        document.body.appendChild(this._panel)\n    }\n\n    /**\n     * Creates basic properties for the new control\n     * @returns {object}\n     * @private\n     */\n    _createControlBasics() {\n        let id = uniqueId()\n        let basics = {\n            id: id,\n            disabled: false,\n            hidden: false,\n            value: null,\n            name: null,\n            type: null,\n            element: function() {\n                return document.getElementById(this.id)\n            },\n            enable: function() {\n                this.element().removeAttribute('disabled')\n                this.disabled = false\n            },\n            disable: function() {\n                this.element().setAttribute('disabled', true)\n                this.disabled = true\n            },\n            show: function() {\n                if (this.element().classList[1] === 'hide') {\n                    this.element().classList.remove('hide')\n                    this.hidden = false\n                }\n            },\n            hide: function() {\n                if (this.element().classList[1] !== 'hide') {\n                    this.element().classList.add('hide')\n                    this.hidden = true\n                }\n            }\n        }\n        return basics\n    }\n\n    /**\n     * Returns select option\n     * @param {(string|number)} item - option value\n     * @returns {Node}\n     * @private\n     */\n    _createSelectOption(item) {\n        let option = this._createElement('option', {\n            class: 'sms-select-option',\n            value: item\n        })\n        option.innerText = item\n        return option\n    }\n\n    /* Basic methods */\n\n    /**\n     * Removes settings panel from the DOM and removes all sections and controls\n     * @returns {void}\n     * @example\n     * mySettings.destroy()\n     */\n    destroy() {\n        if (this._panel && this._panel.parentElement) {\n            this._panel.parentElement.removeChild(this._panel)\n        }\n        this._panel = null\n        this._controls = {}\n    }\n\n    /**\n     * Shows settings panel or specific control (if the name is provided)\n     * @param {string} [name] - name of control to be shown\n     * @returns {void}\n     * @example\n     * mySettings.show()\n     */\n    show(name) {\n        if (name) {\n            this._controls[name].show()\n        }\n        this._panel.classList.remove('hide')\n        this._hidden = false\n    }\n\n    /**\n     * Hides settings panel or specific control (if the name is provided)\n     * @param {string} [name] - name of control to be hidden\n     * @returns {void}\n     * @example\n     * mySettings.hide()\n     */\n    hide(name) {\n        if (name) {\n            this._controls[name].hide()\n        }\n        this._panel.classList.add('hide')\n        this._hidden = true\n    }\n\n    /**\n     * Enables specific control\n     * @param {string} name\n     * @returns {void}\n     * @example\n     * mySettings.enable('Checkbox control')\n     */\n    enable(name) {\n        if (name && this._controls[name]) {\n            return this._controls[name].enable()\n        }\n    }\n\n    /**\n     * Disables specific control\n     * @param {string} name\n     * @returns {void}\n     * @example\n     * mySettings.enable('Checkbox control')\n     */\n    disable(name) {\n        if (name && this._controls[name]) {\n            return this._controls[name].disable()\n        }\n    }\n\n    /**\n     * Open settings panel\n     * @example\n     * mySettings.open()\n     */\n    open() {\n        let panelBody = this._panel.childNodes[1]\n        if (panelBody.classList[1] === 'hide') {\n            panelBody.classList.remove('hide')\n        } \n        this._open = true\n    }\n\n    /**\n     * Close settings panel\n     * @example\n     * mySettings.close()\n     * \n     */\n    close() {\n        let panelBody = this._panel.childNodes[1]\n        panelBody.classList.add('hide')\n        this._open = false\n    }\n\n    /**\n     * Open or close settings panel depending on `_open` property\n     * @returns {void}\n     * @example\n     * mySettings.toggle()\n     */\n    toggle() {\n        let panelBody = this._panel.childNodes[1]\n        panelBody.classList[1] === 'hide' ?\n            panelBody.classList.remove('hide') :\n            panelBody.classList.add('hide')\n        this._open = !this._open\n    }\n\n    /**\n     * Returns panel position [left, top]\n     * @return {array<number>}\n     * @example\n     * let position = mySettings.getPosition() // [0, 0]\n     */\n    getPosition() {\n        return [this.initialLeft, this.initialTop]\n    }\n\n    /**\n     * Sets panel position\n     * @param {number} left - new position on the X axis\n     * @param {number} top - new position on the Y axis\n     * @example\n     * mySettings.setPosition(400, 400)\n     */\n    setPosition(left, top) {\n        this.initialLeft = left\n        this.initialTop = top\n    }\n\n    /**\n     * Removes specific control\n     * @param {string} name - name of the control to be deleted\n     * @returns {void}\n     * @example\n     * mySettings.remove('Control name')\n     */\n    remove(name) {\n        if (name) {\n            let elem = this._controls[name].element()\n            elem.parentElement.remove()\n            elem.remove()\n            delete this._controls[name]\n        }\n    }\n\n    /**\n     * Get value of specific control\n     * @param {string} name - name of the control\n     * @returns {(number|string|boolean)}\n     * @example\n     * let value = mySettings.getValue('Control name')\n     */\n    getValue(name) {\n        if (name && this._controls[name] && this._controls[name].getValue) {\n            return this._controls[name].getValue()\n        }\n    }\n\n    /**\n     * Sets new active value of the specific control. (Changing button control value does not change its' id property)\n     * @param {string} name - name of the control\n     * @param {(number|string|boolean)} name - new value\n     * @returns {void}\n     * @example\n     * mySettings.setValue('Control name', 'value')\n     */\n    setValue(name, value) {\n        if (name && this._controls[name] && this._controls[name].setValue) {\n            return this._controls[name].setValue(value)\n        }\n    }\n\n    /**\n     * Get all active values\n     * @returns {object} - an object with values from all currently set controls\n     * @example\n     * let values = mySettings.getActiveValues()\n     */\n    getActiveValues() {\n        let values = {}\n        for (let i in this._controls) {\n            if (this._controls[i].getValue) {\n                values[i] = this._controls[i].getValue()\n            }\n        }\n        return values\n    }\n\n    /**\n     * Get select/range/progressbar items\n     * @param {string} name - name of the control\n     * @returns {array}\n     * @example\n     * let selectValues = mySettings.\n     */\n    getItems(name) {\n        let typeCondition = (\n            this._controls[name].type === 'range' || \n            this._controls[name].type === 'select' || \n            this._controls[name].type === 'progressbar'\n        )\n        if (this._controls[name] && typeCondition) {\n            return this._controls[name].getItems()\n        } else {\n            throw new Error('Chosen control is not a range, select or progressbar type')\n        }\n    }\n\n    /**\n     * Set (update) select/range/progressbar items\n     * @param {string} name - name of the control\n     * @param {array} items - array of new items\n     * @returns {void}\n     * @example\n     * mySettings.setItems('Select', [1, 2, 3, 4])\n     */\n    setItems(name, items) {\n        let typeCondition = (\n            this._controls[name].type === 'range' ||\n            this._controls[name].type === 'select' ||\n            this._controls[name].type === 'progressbar'\n        )\n        if (this._controls[name] && typeCondition) {\n            return this._controls[name].setItems(items)\n        } else {\n            throw new Error('Chosen control is not a range, select or progressbar type')\n        }\n    }\n\n    /**\n     * Creates button control\n     * @param {string} name - name of the control \n     * @param {function} callback - function executed on each change\n     * @returns {object} button control object\n     * @example\n     * let button = mySettings.button('Button Name', () => console.log('This is the button'))\n     */\n    button(name, callback) {\n        let self = this\n        let base = this._createControlBasics()\n        let body = this._panel.childNodes[1]\n        let wrapper = this._createElement('div', {\n            class: 'sms-control'\n        })\n        let button = this._createElement('button', {\n            class: 'sms-button',\n            id: base.id\n        })\n        base.type = 'button'\n        base.name = name\n        button.innerText = name\n        button.value = name\n        button.addEventListener('click', e => {\n            if (callback) {\n                callback(e)\n            }\n            if (self._globalWatcher !== null) {\n                self._callGlobalWatcher(e)\n            }\n        })\n        wrapper.appendChild(button)\n        body.appendChild(wrapper)\n        this._controls[name] = base\n        return this._controls[name]\n    }\n\n    /**\n     * Creates text input control\n     * @param {string} name - name of the control\n     * @param {string} value - value of the control\n     * @param {function} [callback] - function executed on each change\n     * @returns {object}\n     * @example\n     * let textInput = mySettings.text('Text input', 'Hello world')\n     */\n    text(name, value, callback) {\n        let self = this\n        let body = this._panel.childNodes[1]\n        let base = this._createControlBasics()\n        let wrapper = this._createElement('div', { class: 'sms-control' })\n        let label = this._createElement('label', { class: 'sms-label' })\n        let input = this._createElement('input', {\n            class: 'sms-text',\n            id: base.id,\n            type: 'text'\n        })\n        input.innerText = value\n        input.value = value\n        input.placeholder = value\n        base.name = name\n        base.value = value\n        base.type = 'text'\n        label.innerText = name\n        wrapper.appendChild(label)\n        wrapper.appendChild(input)\n        input.addEventListener('input', e => {\n            base.value = e.target.value\n            if (callback) {\n                callback(e)\n            }\n            if (self._globalWatcher !== null) {\n                self._callGlobalWatcher(e)\n            }\n        })\n        body.appendChild(wrapper)\n        base.getValue = function() {\n            return this.element().value\n        }\n        base.setValue = function(value) {\n            base.value = value\n            base.element().innerText = value\n            base.element().value = value\n        }\n        this._controls[name] = base\n        return this._controls[name]\n    }\n\n    /**\n     * Creates textarea control\n     * @param {string} name - name of the control\n     * @param {string} value - value of the control\n     * @param {function} [callback] - function executed on each change\n     * @returns {object}\n     * @example\n     * let textarea = mySettings.textarea('Text input', 'Hello world')\n     */\n    textarea(name, value, callback) {\n        let self = this\n        let body = this._panel.childNodes[1]\n        let base = this._createControlBasics()\n        let wrapper = this._createElement('div', { class: 'sms-control' })\n        let label = this._createElement('label', { class: 'sms-label' })\n        let textarea = this._createElement('textarea', {\n            class: 'sms-textarea',\n            id: base.id\n        })\n        textarea.innerText = value\n        textarea.value = value\n        textarea.placeholder = value\n        base.name = name\n        base.value = value\n        base.type = 'text'\n        label.innerText = name\n        wrapper.appendChild(label)\n        wrapper.appendChild(textarea)\n        textarea.addEventListener('input', e => {\n            base.value = e.target.value\n            if (callback) {\n                callback(e)\n            }\n            if (self._globalWatcher !== null) {\n                self._callGlobalWatcher(e)\n            }\n        })\n        body.appendChild(wrapper)\n        base.getValue = function () {\n            return this.element().value\n        }\n        base.setValue = function (value) {\n            base.value = value\n            base.element().innerText = value\n            base.element().value = value\n        }\n        this._controls[name] = base\n        return this._controls[name]\n    }\n\n    /**\n     * Creates range control\n     * @param {string} name - name of the control\n     * @param {array} items - array with min, max, default and step values\n     * @param {function} [callback] - function executed on each change\n     * @returns {object}\n     * @example\n     * let range = mySettings.range('Range', [1, 100, 40, 1], e => console.log(e.target.value))\n     */\n    range(name, items, callback) {\n        let self = this\n        let body = this._panel.childNodes[1]\n        let base = this._createControlBasics()\n        let wrapper = this._createElement('div', { class: 'sms-control' })\n        let label = this._createElement('label', { class: 'sms-label' })\n        let span = this._createElement('span', { class: 'sms-label-span' })\n        let input = this._createElement('input', {\n            class: 'sms-range',\n            id: base.id,\n            type: 'range',\n            min: items[0],\n            max: items[1],\n            value: items[2],\n            step: items[3]\n        })\n\n        base.type = 'range'\n        base.name = name\n        base.value = items[2]\n        input.addEventListener('input', e => {\n            base.value = e.target.value\n            span.innerText = base.value\n            if (callback) {\n                callback(e)\n            }\n            if (self._globalWatcher !== null) {\n                self._callGlobalWatcher(e)\n            }\n        })\n        span.innerText = base.value\n        label.value = name\n        label.innerText = name\n        label.appendChild(span)\n        wrapper.appendChild(label)\n        wrapper.appendChild(input)\n        body.appendChild(wrapper)\n        base.getValue = function() {\n            return parseFloat(base.element().value)\n        }\n        base.setValue = function(v) {\n            base.value = v\n            base.element().value = v\n        }\n        base.getItems = function() {\n            let e = base.element()\n            return [\n                parseFloat(e.min),\n                parseFloat(e.max),\n                parseFloat(e.value),\n                parseFloat(e.step),\n            ]\n        }\n        base.setItems = function(items) {\n            let e = base.element()\n            e.min = items[0]\n            e.max = items[1]\n            e.value = items[2]\n            e.step = items[3]\n            base.value = parseFloat(e.value)\n        }\n        this._controls[name] = base\n        return this._controls[name]\n    }\n\n    /**\n     * Creates checkbox control\n     * @param {string} name - name of the control\n     * @param {boolean} value - value of the control\n     * @param {function} [callback] - function executed on each change\n     * @returns {object}\n     * @example\n     * let checkbox = mySettings.checkbox('Check this out!', true, e => {\n     *      console.log(e.target.value)\n     * })\n     */\n    checkbox(name, value, callback) {\n        let self = this\n        let body = this._panel.childNodes[1]\n        let base = this._createControlBasics()\n        let wrapper = this._createElement('div', { class: 'sms-control' })\n        let label = this._createElement('label', { class: 'sms-label' })\n        let checkbox = this._createElement('input', {\n            class: 'sms-checkbox',\n            id: base.id,\n            type: 'checkbox'\n        })\n        base.name = name\n        base.type = 'checkbox'\n        base.value = value\n        label.innerText = name\n        label.value = name\n        if (value === true) {\n            checkbox.setAttribute('checked', true)\n        }\n        checkbox.addEventListener('change', e => {\n            base.value = e.target.checked\n            if (callback) {\n                callback(e)\n            }\n            if (self._globalWatcher !== null) {\n                self._callGlobalWatcher(e)\n            }\n        })\n        wrapper.appendChild(label)\n        wrapper.appendChild(checkbox)\n        body.appendChild(wrapper)\n        base.getValue = function() {\n            return base.element().checked\n        }\n        base.setValue = function(v) {\n            base.element().checked = v\n            base.value = v\n        }\n        this._controls[name] = base\n        return this._controls[name]\n    }\n\n    /**\n     * Creates color control\n     * @param {string} name - name of the control\n     * @param {string} value -hexadecimal string value of initial color\n     * @param {function} [callback] - function executed afer each change\n     * @returns {object}\n     * @example\n     * let color = mySettings.color('Color control', '#fcfcfc', e => someCallbackFunction())\n     */\n    color(name, value, callback) {\n        let self = this\n        let body = this._panel.childNodes[1]\n        let base = this._createControlBasics()\n        let wrapper = this._createElement('div', { class: 'sms-control' })\n        let label = this._createElement('label', { class: 'sms-label' })\n        let span = this._createElement('span', { class: 'sms-label-span' })\n        let input = this._createElement('input', {\n            class: 'sms-color',\n            id: base.id,\n            type: 'color'\n        })\n        base.name = name\n        base.type = 'color'\n        base.value = value\n        input.setAttribute('value', value)\n        input.addEventListener('input', e => {\n            base.value = e.target.value\n            span.innerText = e.target.value\n            if (callback) {\n                callback(e)\n            }\n            if (self._globalWatcher !== null) {\n                self._callGlobalWatcher(e)\n            }\n        })\n        span.innerText = value\n        label.value = name\n        label.innerText = name\n        label.appendChild(span)\n        wrapper.appendChild(label)\n        wrapper.appendChild(input)\n        body.appendChild(wrapper)\n        base.getValue = function() {\n            return base.element().value\n        }\n        base.setValue = function(v) {\n            base.element().value = v\n            base.value = v\n            span.innerText = v\n        }\n        this._controls[name] = base\n        return this._controls[name]\n    }\n\n    /**\n     * Creates select control\n     * @param {string} name - name of the control\n     * @param {array} items - array with option values\n     * @param {function} [callback] - function executed on each change\n     * @returns {object}\n     * @example\n     * let select = mySettings.select('Select', ['Option 1', 'Option 2', 'Option 3'])\n     */\n    select(name, items, callback) {\n        let self = this\n        let body = this._panel.childNodes[1]\n        let base = this._createControlBasics()\n        let wrapper = this._createElement('div', { class: 'sms-control' })\n        let label = this._createElement('label', { class: 'sms-label' })\n        let select = this._createElement('select', {\n            class: 'sms-select',\n            id: base.id,\n            name: name\n        })\n        label.innerText = name\n        label.value = name\n        wrapper.appendChild(label)\n        items.map(item => {\n            let option = self._createSelectOption(item)\n            select.options.add(option)\n        })\n        select.value = items[0]\n        select.addEventListener('change', e => {\n            base.value = e.target.value\n            if (callback) {\n                callback(e)\n            }\n            if (self._globalWatcher !== null) {\n                self._callGlobalWatcher(e)\n            }\n        })\n        wrapper.appendChild(select)\n        body.appendChild(wrapper)\n        base.value = items[0]\n        base.name = name\n        base.type = 'select'\n        base.getValue = function() {\n            let _select = base.element()\n            return _select.options[_select.selectedIndex].value\n        }\n        base.setValue = function(v) {\n            base.value = v\n            let _select = base.element()\n            select.options[select.selectedIndex] = self._createSelectOption(v)\n            _select.value = v\n        }\n        base.getItems = function() {\n            return Array\n                .from(base.element().options)\n                .map(option => option.value)\n        }\n        base.setItems = function(items) {\n            let _select = base.element()\n            items.forEach(item => {\n                let _index = items.indexOf(item)\n                _select.options[_index] = self._createSelectOption(item)\n            })\n        }\n        this._controls[name] = base\n        return this._controls[name]\n    }\n\n    /**\n     * Creates number control\n     * @param {string} name - name of the control\n     * @param {array} items - array with initial and step value\n     * @param {function} [callback] - function executed on each change\n     * @returns {object}\n     * @example\n     * let number = mySettings.number('Number', [10, 1], e => {})\n     */\n    number(name, items, callback) {\n        let self = this\n        let body = this._panel.childNodes[1]\n        let base = this._createControlBasics()\n        let wrapper = this._createElement('div', { class: 'sms-control' })\n        let label = this._createElement('label', { class: 'sms-label' })\n        label.innerText = name\n        label.value = name\n        let input = this._createElement('input', {\n            class: 'sms-number',\n            id: base.id,\n            type: 'number',\n            value: items[0],\n            step: items[1]\n        })\n        input.addEventListener('input', e => {\n            base.value = parseFloat(e.target.value)\n            if (callback) {\n                callback(parseFloat(e))\n            }\n            if (self._globalWatcher !== null) {\n                self._callGlobalWatcher(e)\n            }\n        })\n        base.type = 'number'\n        base.name = name\n        base.value = items[0]\n        base.getValue = function() {\n            return parseFloat(base.element().value)\n        }\n        base.setValue = function(v) {\n            base.element().value = v\n            base.value = v\n        }\n        wrapper.appendChild(label)\n        wrapper.appendChild(input)\n        body.appendChild(wrapper)\n        this._controls[name] = base\n        return this._controls[name] = base\n    }\n\n    /**\n     * Creates file input control\n     * @param {string} name - name of the control\n     * @param {function} [callback] - function executed on each change\n     */\n    file(name, callback) {\n        let self = this\n        let body = this._panel.childNodes[1]\n        let base = this._createControlBasics()\n        let wrapper = this._createElement('div', { class: 'sms-control' })\n        let label = this._createElement('label', { class: 'sms-label' })\n        let upload = this._createElement('input', {\n            class: 'sms-file',\n            id: base.id,\n            type: 'file'\n        })\n        base.name = name\n        base.type = 'file'\n        label.innerText = name\n        label.value = name\n        upload.addEventListener('change', e => {\n            base.value = e.target.value\n            if (callback) {\n                callback(e)\n            }\n            if (self._globalWatcher) {\n                self._callGlobalWatcher(e)\n            }\n        })\n        wrapper.appendChild(label)\n        wrapper.appendChild(upload)\n        base.getValue = function() {\n            return base.element().files[0]\n        }\n        base.setValue = function(v) {\n            base.value = v\n            base.element().files[0] = v\n        }\n        body.appendChild(wrapper)\n        this._controls[name] = base\n        return this._controls[name] = base\n    }\n\n    /**\n     * Watch panel for changes and fire callback on each change\n     * @param {function} callback - function executed on each change in the panel\n     * @returns {void}\n     * @example\n     * mySettings.watch(callback)\n     */\n    watch(callback) {\n        this._globalWatcher = callback\n    }\n\n    /**\n     * Load controls from the configuration object.\n     * @param {(object|string|array)} config - configuration object or JSON string or configuration array of objects\n     * @returns {void}\n     * @example\n     * const mySettings = new SmartSettings('Name', 10, 10)\n     * mySettings.loadConfig({\n     *      control1: {\n     *          type: 'color',\n     *          name: 'Color',\n     *          value: '#fd3ef4',\n     *          callback: someCallbackFunction\n     *      },\n     *      // etc.\n     * })\n     * \n     * // or\n     * mySettings.loadConfig('{\n     *      \"control1\": {\n     *          \"type\": \"color\",\n     *          \"name\": \"Color\",\n     *          \"value\": \"#fd3ef4\",\n     *          \"callback\": \"someCallbackFunction\"\n     *      },\n     *      // etc.\n     * })\n     * \n     * // or\n     * mySettings.loadConfig([{\n     *      {\n     *          type: 'color',\n     *          name: 'Color',\n     *          value: '#fd3ef4',\n     *          callback: someCallbackFunction\n     *      },\n     *      // etc.\n     * ])\n     */\n    loadConfig(config) {\n        if (!config) {\n            throw new Error('There is no config provided')\n        }\n        if (typeof config === 'string' || !Array.isArray(config)) {\n            if (typeof config === 'string') {\n                config = JSON.parse(config)\n            }\n            for (let key in config) {\n                let _entry = config[key]\n                this._assignEntryToMethod(_entry)\n            }\n        }\n        if (Array.isArray(config) === true) {\n            config.forEach(entry => this._assignEntryToMethod(entry))\n        }\n    }\n}\n\nexport default SmartSettings"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","SmartSettings","name","left","top","initialLeft","initialTop","_hidden","_open","_draggable","_panel","_controls","_globalWatcher","_createUniqueId","_create","counter","uniqueId","attributes","element","key","setAttribute","e","_entry","_isCallback","callback","button","range","items","select","text","value","checkbox","number","color","file","panelAttributes","panel","_createElement","header","class","body","paragraph","addEventListener","toggle","innerText","id","basics","getElementById","removeAttribute","disabled","classList","remove","hidden","add","item","option","parentElement","removeChild","show","hide","enable","disable","panelBody","childNodes","elem","getValue","setValue","values","i","typeCondition","getItems","Error","setItems","self","base","_createControlBasics","wrapper","_callGlobalWatcher","label","input","placeholder","target","textarea","span","parseFloat","v","min","max","step","checked","map","_createSelectOption","options","_select","selectedIndex","Array","from","forEach","_index","indexOf","upload","files","config","isArray","JSON","parse","_assignEntryToMethod","entry"],"mappings":"AAAA,SAASA,WAAT,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+B;MACxBA,QAAQ,KAAK,CAAlB,EAAsBA,MAAM,EAAN;MAClBC,WAAWD,IAAIC,QAAnB;MAEI,CAACF,GAAD,IAAQ,OAAOG,QAAP,KAAoB,WAAhC,EAA6C;;;MAEzCC,OAAOD,SAASC,IAAT,IAAiBD,SAASE,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAA5B;MACIC,QAAQH,SAASI,aAAT,CAAuB,OAAvB,CAAZ;QACMC,IAAN,GAAa,UAAb;MAEIN,aAAa,KAAjB,EAAwB;QAClBE,KAAKK,UAAT,EAAqB;WACdC,YAAL,CAAkBJ,KAAlB,EAAyBF,KAAKK,UAA9B;KADF,MAEO;WACAE,WAAL,CAAiBL,KAAjB;;GAJJ,MAMO;SACAK,WAAL,CAAiBL,KAAjB;;MAGEA,MAAMM,UAAV,EAAsB;UACdA,UAAN,CAAiBC,OAAjB,GAA2Bb,GAA3B;GADF,MAEO;UACCW,WAAN,CAAkBR,SAASW,cAAT,CAAwBd,GAAxB,CAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICZEe;6BACqD;YAA3CC,IAA2C,uEAApC,eAAoC;YAAnBC,IAAmB,uEAAZ,CAAY;YAATC,GAAS,uEAAH,CAAG;;aAC9CF,IAAL,GAAYA,IAAZ;aACKG,WAAL,GAAmBF,IAAnB;aACKG,UAAL,GAAkBF,GAAlB;aAMKG,OAAL,GAAe,KAAf;aAMKC,KAAL,GAAa,IAAb;aAMKC,UAAL,GAAkB,KAAlB;aAMKC,MAAL,GAAc,IAAd;aAMKC,SAAL,GAAiB,EAAjB;aAMKC,cAAL,GAAsB,IAAtB;aAEKC,eAAL;aACKC,OAAL,CAAa,KAAKZ,IAAlB,EAAwB,KAAKI,UAA7B,EAAyC,KAAKD,WAA9C;;;;0CASc;gBACVU,UAAU,CAAd;mBACOC,QAAP,GAAkB;mCAAgBD,SAAhB;aAAlB;;;;uCAUWrB,MAAMuB,YAAY;gBACzBC,UAAU7B,SAASI,aAAT,CAAuBC,IAAvB,CAAd;gBACIuB,UAAJ,EAAgB;qBACP,IAAIE,GAAT,IAAgBF,UAAhB,EAA4B;wBACpBE,QAAQ,OAAZ,EAAqB;gCACTC,YAAR,CAAqB,OAArB,EAA8BH,WAAWE,GAAX,CAA9B;qBADJ,MAEO;gCACKA,GAAR,IAAeF,WAAWE,GAAX,CAAf;;;;mBAILD,OAAP;;;;2CASeG,GAAG;gBACd,KAAKT,cAAT,EAAyB;qBAChBA,cAAL,CAAoBS,CAApB;;;;;6CASaC,QAAQ;gBACrBC,cAAcD,OAAOE,QAAP,GAAkBF,OAAOE,QAAzB,GAAoC,IAAtD;oBACQF,OAAO5B,IAAf;qBACK,QAAL;yBACS+B,MAAL,CAAYH,OAAOpB,IAAnB,EAAyBqB,WAAzB;;qBAEC,OAAL;yBACSG,KAAL,CAAWJ,OAAOpB,IAAlB,EAAwBoB,OAAOK,KAA/B,EAAsCJ,WAAtC;;qBAEC,QAAL;yBACSK,MAAL,CAAYN,OAAOpB,IAAnB,EAAyBoB,OAAOK,KAAhC,EAAuCJ,WAAvC;;qBAEC,MAAL;yBACSM,IAAL,CAAUP,OAAOpB,IAAjB,EAAuBoB,OAAOQ,KAA9B,EAAqCP,WAArC;;qBAEC,UAAL;yBACSM,IAAL,CAAUP,OAAOpB,IAAjB,EAAuBoB,OAAOQ,KAA9B,EAAqCP,WAArC;;qBAEC,UAAL;yBACSQ,QAAL,CAAcT,OAAOpB,IAArB,EAA2BoB,OAAOQ,KAAlC,EAAyCP,WAAzC;;qBAEC,QAAL;yBACSS,MAAL,CAAYV,OAAOpB,IAAnB,EAAyBoB,OAAOK,KAAhC,EAAuCJ,WAAvC;;qBAEC,OAAL;yBACSU,KAAL,CAAWX,OAAOpB,IAAlB,EAAwBoB,OAAOQ,KAA/B,EAAsCP,WAAtC;;qBAEC,MAAL;yBACSW,IAAL,CAAUZ,OAAOpB,IAAjB,EAAuBqB,WAAvB;;;;;kCAWE;;gBACFY,kBAAkB;uBACX,WADW;oBAEdnB,UAFc;iCAGH,KAAKV,UAApB,kBAA2C,KAAKD,WAAhD;aAHJ;gBAKI+B,QAAQ,KAAKC,cAAL,CAAoB,KAApB,EAA2BF,eAA3B,CAAZ;gBACIG,SAAS,KAAKD,cAAL,CAAoB,KAApB,EAA2B,EAAEE,OAAO,kBAAT,EAA3B,CAAb;gBACIC,OAAO,KAAKH,cAAL,CAAoB,KAApB,EAA2B,EAAEE,OAAO,gBAAT,EAA3B,CAAX;gBACIE,YAAY,KAAKJ,cAAL,CAAoB,GAApB,EAAyB,EAAEE,OAAO,uBAAT,EAAzB,CAAhB;mBAEOG,gBAAP,CAAwB,OAAxB,EAAiC;uBAAK,MAAKC,MAAL,EAAL;aAAjC;sBAEUC,SAAV,GAAsB,KAAK1C,IAA3B;mBACOL,WAAP,CAAmB4C,SAAnB;kBACM5C,WAAN,CAAkByC,MAAlB;kBACMzC,WAAN,CAAkB2C,IAAlB;iBACK9B,MAAL,GAAc0B,KAAd;qBACSI,IAAT,CAAc3C,WAAd,CAA0B,KAAKa,MAA/B;;;;+CAQmB;gBACfmC,KAAK7B,UAAT;gBACI8B,SAAS;oBACLD,EADK;0BAEC,KAFD;wBAGD,KAHC;uBAIF,IAJE;sBAKH,IALG;sBAMH,IANG;yBAOA,mBAAW;2BACTxD,SAAS0D,cAAT,CAAwB,KAAKF,EAA7B,CAAP;iBARK;wBAUD,kBAAW;yBACV3B,OAAL,GAAe8B,eAAf,CAA+B,UAA/B;yBACKC,QAAL,GAAgB,KAAhB;iBAZK;yBAcA,mBAAW;yBACX/B,OAAL,GAAeE,YAAf,CAA4B,UAA5B,EAAwC,IAAxC;yBACK6B,QAAL,GAAgB,IAAhB;iBAhBK;sBAkBH,gBAAW;wBACT,KAAK/B,OAAL,GAAegC,SAAf,CAAyB,CAAzB,MAAgC,MAApC,EAA4C;6BACnChC,OAAL,GAAegC,SAAf,CAAyBC,MAAzB,CAAgC,MAAhC;6BACKC,MAAL,GAAc,KAAd;;iBArBC;sBAwBH,gBAAW;wBACT,KAAKlC,OAAL,GAAegC,SAAf,CAAyB,CAAzB,MAAgC,MAApC,EAA4C;6BACnChC,OAAL,GAAegC,SAAf,CAAyBG,GAAzB,CAA6B,MAA7B;6BACKD,MAAL,GAAc,IAAd;;;aA3BZ;mBA+BON,MAAP;;;;4CASgBQ,MAAM;gBAClBC,SAAS,KAAKlB,cAAL,CAAoB,QAApB,EAA8B;uBAChC,mBADgC;uBAEhCiB;aAFE,CAAb;mBAIOV,SAAP,GAAmBU,IAAnB;mBACOC,MAAP;;;;kCAWM;gBACF,KAAK7C,MAAL,IAAe,KAAKA,MAAL,CAAY8C,aAA/B,EAA8C;qBACrC9C,MAAL,CAAY8C,aAAZ,CAA0BC,WAA1B,CAAsC,KAAK/C,MAA3C;;iBAECA,MAAL,GAAc,IAAd;iBACKC,SAAL,GAAiB,EAAjB;;;;6BAUCT,MAAM;gBACHA,IAAJ,EAAU;qBACDS,SAAL,CAAeT,IAAf,EAAqBwD,IAArB;;iBAEChD,MAAL,CAAYwC,SAAZ,CAAsBC,MAAtB,CAA6B,MAA7B;iBACK5C,OAAL,GAAe,KAAf;;;;6BAUCL,MAAM;gBACHA,IAAJ,EAAU;qBACDS,SAAL,CAAeT,IAAf,EAAqByD,IAArB;;iBAECjD,MAAL,CAAYwC,SAAZ,CAAsBG,GAAtB,CAA0B,MAA1B;iBACK9C,OAAL,GAAe,IAAf;;;;+BAUGL,MAAM;gBACLA,QAAQ,KAAKS,SAAL,CAAeT,IAAf,CAAZ,EAAkC;uBACvB,KAAKS,SAAL,CAAeT,IAAf,EAAqB0D,MAArB,EAAP;;;;;gCAWA1D,MAAM;gBACNA,QAAQ,KAAKS,SAAL,CAAeT,IAAf,CAAZ,EAAkC;uBACvB,KAAKS,SAAL,CAAeT,IAAf,EAAqB2D,OAArB,EAAP;;;;;+BASD;gBACCC,YAAY,KAAKpD,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAhB;gBACID,UAAUZ,SAAV,CAAoB,CAApB,MAA2B,MAA/B,EAAuC;0BACzBA,SAAV,CAAoBC,MAApB,CAA2B,MAA3B;;iBAEC3C,KAAL,GAAa,IAAb;;;;gCASI;gBACAsD,YAAY,KAAKpD,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAhB;sBACUb,SAAV,CAAoBG,GAApB,CAAwB,MAAxB;iBACK7C,KAAL,GAAa,KAAb;;;;iCASK;gBACDsD,YAAY,KAAKpD,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAhB;sBACUb,SAAV,CAAoB,CAApB,MAA2B,MAA3B,GACIY,UAAUZ,SAAV,CAAoBC,MAApB,CAA2B,MAA3B,CADJ,GAEIW,UAAUZ,SAAV,CAAoBG,GAApB,CAAwB,MAAxB,CAFJ;iBAGK7C,KAAL,GAAa,CAAC,KAAKA,KAAnB;;;;sCASU;mBACH,CAAC,KAAKH,WAAN,EAAmB,KAAKC,UAAxB,CAAP;;;;oCAUQH,MAAMC,KAAK;iBACdC,WAAL,GAAmBF,IAAnB;iBACKG,UAAL,GAAkBF,GAAlB;;;;+BAUGF,MAAM;gBACLA,IAAJ,EAAU;oBACF8D,OAAO,KAAKrD,SAAL,CAAeT,IAAf,EAAqBgB,OAArB,EAAX;qBACKsC,aAAL,CAAmBL,MAAnB;qBACKA,MAAL;uBACO,KAAKxC,SAAL,CAAeT,IAAf,CAAP;;;;;iCAWCA,MAAM;gBACPA,QAAQ,KAAKS,SAAL,CAAeT,IAAf,CAAR,IAAgC,KAAKS,SAAL,CAAeT,IAAf,EAAqB+D,QAAzD,EAAmE;uBACxD,KAAKtD,SAAL,CAAeT,IAAf,EAAqB+D,QAArB,EAAP;;;;;iCAYC/D,MAAM4B,OAAO;gBACd5B,QAAQ,KAAKS,SAAL,CAAeT,IAAf,CAAR,IAAgC,KAAKS,SAAL,CAAeT,IAAf,EAAqBgE,QAAzD,EAAmE;uBACxD,KAAKvD,SAAL,CAAeT,IAAf,EAAqBgE,QAArB,CAA8BpC,KAA9B,CAAP;;;;;0CAUU;gBACVqC,SAAS,EAAb;iBACK,IAAIC,CAAT,IAAc,KAAKzD,SAAnB,EAA8B;oBACtB,KAAKA,SAAL,CAAeyD,CAAf,EAAkBH,QAAtB,EAAgC;2BACrBG,CAAP,IAAY,KAAKzD,SAAL,CAAeyD,CAAf,EAAkBH,QAAlB,EAAZ;;;mBAGDE,MAAP;;;;iCAUKjE,MAAM;gBACPmE,gBACA,KAAK1D,SAAL,CAAeT,IAAf,EAAqBR,IAArB,KAA8B,OAA9B,IACA,KAAKiB,SAAL,CAAeT,IAAf,EAAqBR,IAArB,KAA8B,QAD9B,IAEA,KAAKiB,SAAL,CAAeT,IAAf,EAAqBR,IAArB,KAA8B,aAHlC;gBAKI,KAAKiB,SAAL,CAAeT,IAAf,KAAwBmE,aAA5B,EAA2C;uBAChC,KAAK1D,SAAL,CAAeT,IAAf,EAAqBoE,QAArB,EAAP;aADJ,MAEO;sBACG,IAAIC,KAAJ,CAAU,2DAAV,CAAN;;;;;iCAYCrE,MAAMyB,OAAO;gBACd0C,gBACA,KAAK1D,SAAL,CAAeT,IAAf,EAAqBR,IAArB,KAA8B,OAA9B,IACA,KAAKiB,SAAL,CAAeT,IAAf,EAAqBR,IAArB,KAA8B,QAD9B,IAEA,KAAKiB,SAAL,CAAeT,IAAf,EAAqBR,IAArB,KAA8B,aAHlC;gBAKI,KAAKiB,SAAL,CAAeT,IAAf,KAAwBmE,aAA5B,EAA2C;uBAChC,KAAK1D,SAAL,CAAeT,IAAf,EAAqBsE,QAArB,CAA8B7C,KAA9B,CAAP;aADJ,MAEO;sBACG,IAAI4C,KAAJ,CAAU,2DAAV,CAAN;;;;;+BAYDrE,MAAMsB,UAAU;gBACfiD,OAAO,IAAX;gBACIC,OAAO,KAAKC,oBAAL,EAAX;gBACInC,OAAO,KAAK9B,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAX;gBACIa,UAAU,KAAKvC,cAAL,CAAoB,KAApB,EAA2B;uBAC9B;aADG,CAAd;gBAGIZ,SAAS,KAAKY,cAAL,CAAoB,QAApB,EAA8B;uBAChC,YADgC;oBAEnCqC,KAAK7B;aAFA,CAAb;iBAIKnD,IAAL,GAAY,QAAZ;iBACKQ,IAAL,GAAYA,IAAZ;mBACO0C,SAAP,GAAmB1C,IAAnB;mBACO4B,KAAP,GAAe5B,IAAf;mBACOwC,gBAAP,CAAwB,OAAxB,EAAiC,aAAK;oBAC9BlB,QAAJ,EAAc;6BACDH,CAAT;;oBAEAoD,KAAK7D,cAAL,KAAwB,IAA5B,EAAkC;yBACzBiE,kBAAL,CAAwBxD,CAAxB;;aALR;oBAQQxB,WAAR,CAAoB4B,MAApB;iBACK5B,WAAL,CAAiB+E,OAAjB;iBACKjE,SAAL,CAAeT,IAAf,IAAuBwE,IAAvB;mBACO,KAAK/D,SAAL,CAAeT,IAAf,CAAP;;;;6BAYCA,MAAM4B,OAAON,UAAU;gBACpBiD,OAAO,IAAX;gBACIjC,OAAO,KAAK9B,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAX;gBACIW,OAAO,KAAKC,oBAAL,EAAX;gBACIC,UAAU,KAAKvC,cAAL,CAAoB,KAApB,EAA2B,EAAEE,OAAO,aAAT,EAA3B,CAAd;gBACIuC,QAAQ,KAAKzC,cAAL,CAAoB,OAApB,EAA6B,EAAEE,OAAO,WAAT,EAA7B,CAAZ;gBACIwC,QAAQ,KAAK1C,cAAL,CAAoB,OAApB,EAA6B;uBAC9B,UAD8B;oBAEjCqC,KAAK7B,EAF4B;sBAG/B;aAHE,CAAZ;kBAKMD,SAAN,GAAkBd,KAAlB;kBACMA,KAAN,GAAcA,KAAd;kBACMkD,WAAN,GAAoBlD,KAApB;iBACK5B,IAAL,GAAYA,IAAZ;iBACK4B,KAAL,GAAaA,KAAb;iBACKpC,IAAL,GAAY,MAAZ;kBACMkD,SAAN,GAAkB1C,IAAlB;oBACQL,WAAR,CAAoBiF,KAApB;oBACQjF,WAAR,CAAoBkF,KAApB;kBACMrC,gBAAN,CAAuB,OAAvB,EAAgC,aAAK;qBAC5BZ,KAAL,GAAaT,EAAE4D,MAAF,CAASnD,KAAtB;oBACIN,QAAJ,EAAc;6BACDH,CAAT;;oBAEAoD,KAAK7D,cAAL,KAAwB,IAA5B,EAAkC;yBACzBiE,kBAAL,CAAwBxD,CAAxB;;aANR;iBASKxB,WAAL,CAAiB+E,OAAjB;iBACKX,QAAL,GAAgB,YAAW;uBAChB,KAAK/C,OAAL,GAAeY,KAAtB;aADJ;iBAGKoC,QAAL,GAAgB,UAASpC,KAAT,EAAgB;qBACvBA,KAAL,GAAaA,KAAb;qBACKZ,OAAL,GAAe0B,SAAf,GAA2Bd,KAA3B;qBACKZ,OAAL,GAAeY,KAAf,GAAuBA,KAAvB;aAHJ;iBAKKnB,SAAL,CAAeT,IAAf,IAAuBwE,IAAvB;mBACO,KAAK/D,SAAL,CAAeT,IAAf,CAAP;;;;iCAYKA,MAAM4B,OAAON,UAAU;gBACxBiD,OAAO,IAAX;gBACIjC,OAAO,KAAK9B,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAX;gBACIW,OAAO,KAAKC,oBAAL,EAAX;gBACIC,UAAU,KAAKvC,cAAL,CAAoB,KAApB,EAA2B,EAAEE,OAAO,aAAT,EAA3B,CAAd;gBACIuC,QAAQ,KAAKzC,cAAL,CAAoB,OAApB,EAA6B,EAAEE,OAAO,WAAT,EAA7B,CAAZ;gBACI2C,WAAW,KAAK7C,cAAL,CAAoB,UAApB,EAAgC;uBACpC,cADoC;oBAEvCqC,KAAK7B;aAFE,CAAf;qBAISD,SAAT,GAAqBd,KAArB;qBACSA,KAAT,GAAiBA,KAAjB;qBACSkD,WAAT,GAAuBlD,KAAvB;iBACK5B,IAAL,GAAYA,IAAZ;iBACK4B,KAAL,GAAaA,KAAb;iBACKpC,IAAL,GAAY,MAAZ;kBACMkD,SAAN,GAAkB1C,IAAlB;oBACQL,WAAR,CAAoBiF,KAApB;oBACQjF,WAAR,CAAoBqF,QAApB;qBACSxC,gBAAT,CAA0B,OAA1B,EAAmC,aAAK;qBAC/BZ,KAAL,GAAaT,EAAE4D,MAAF,CAASnD,KAAtB;oBACIN,QAAJ,EAAc;6BACDH,CAAT;;oBAEAoD,KAAK7D,cAAL,KAAwB,IAA5B,EAAkC;yBACzBiE,kBAAL,CAAwBxD,CAAxB;;aANR;iBASKxB,WAAL,CAAiB+E,OAAjB;iBACKX,QAAL,GAAgB,YAAY;uBACjB,KAAK/C,OAAL,GAAeY,KAAtB;aADJ;iBAGKoC,QAAL,GAAgB,UAAUpC,KAAV,EAAiB;qBACxBA,KAAL,GAAaA,KAAb;qBACKZ,OAAL,GAAe0B,SAAf,GAA2Bd,KAA3B;qBACKZ,OAAL,GAAeY,KAAf,GAAuBA,KAAvB;aAHJ;iBAKKnB,SAAL,CAAeT,IAAf,IAAuBwE,IAAvB;mBACO,KAAK/D,SAAL,CAAeT,IAAf,CAAP;;;;8BAYEA,MAAMyB,OAAOH,UAAU;gBACrBiD,OAAO,IAAX;gBACIjC,OAAO,KAAK9B,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAX;gBACIW,OAAO,KAAKC,oBAAL,EAAX;gBACIC,UAAU,KAAKvC,cAAL,CAAoB,KAApB,EAA2B,EAAEE,OAAO,aAAT,EAA3B,CAAd;gBACIuC,QAAQ,KAAKzC,cAAL,CAAoB,OAApB,EAA6B,EAAEE,OAAO,WAAT,EAA7B,CAAZ;gBACI4C,OAAO,KAAK9C,cAAL,CAAoB,MAApB,EAA4B,EAAEE,OAAO,gBAAT,EAA5B,CAAX;gBACIwC,QAAQ,KAAK1C,cAAL,CAAoB,OAApB,EAA6B;uBAC9B,WAD8B;oBAEjCqC,KAAK7B,EAF4B;sBAG/B,OAH+B;qBAIhClB,MAAM,CAAN,CAJgC;qBAKhCA,MAAM,CAAN,CALgC;uBAM9BA,MAAM,CAAN,CAN8B;sBAO/BA,MAAM,CAAN;aAPE,CAAZ;iBAUKjC,IAAL,GAAY,OAAZ;iBACKQ,IAAL,GAAYA,IAAZ;iBACK4B,KAAL,GAAaH,MAAM,CAAN,CAAb;kBACMe,gBAAN,CAAuB,OAAvB,EAAgC,aAAK;qBAC5BZ,KAAL,GAAaT,EAAE4D,MAAF,CAASnD,KAAtB;qBACKc,SAAL,GAAiB8B,KAAK5C,KAAtB;oBACIN,QAAJ,EAAc;6BACDH,CAAT;;oBAEAoD,KAAK7D,cAAL,KAAwB,IAA5B,EAAkC;yBACzBiE,kBAAL,CAAwBxD,CAAxB;;aAPR;iBAUKuB,SAAL,GAAiB8B,KAAK5C,KAAtB;kBACMA,KAAN,GAAc5B,IAAd;kBACM0C,SAAN,GAAkB1C,IAAlB;kBACML,WAAN,CAAkBsF,IAAlB;oBACQtF,WAAR,CAAoBiF,KAApB;oBACQjF,WAAR,CAAoBkF,KAApB;iBACKlF,WAAL,CAAiB+E,OAAjB;iBACKX,QAAL,GAAgB,YAAW;uBAChBmB,WAAWV,KAAKxD,OAAL,GAAeY,KAA1B,CAAP;aADJ;iBAGKoC,QAAL,GAAgB,UAASmB,CAAT,EAAY;qBACnBvD,KAAL,GAAauD,CAAb;qBACKnE,OAAL,GAAeY,KAAf,GAAuBuD,CAAvB;aAFJ;iBAIKf,QAAL,GAAgB,YAAW;oBACnBjD,IAAIqD,KAAKxD,OAAL,EAAR;uBACO,CACHkE,WAAW/D,EAAEiE,GAAb,CADG,EAEHF,WAAW/D,EAAEkE,GAAb,CAFG,EAGHH,WAAW/D,EAAES,KAAb,CAHG,EAIHsD,WAAW/D,EAAEmE,IAAb,CAJG,CAAP;aAFJ;iBASKhB,QAAL,GAAgB,UAAS7C,KAAT,EAAgB;oBACxBN,IAAIqD,KAAKxD,OAAL,EAAR;kBACEoE,GAAF,GAAQ3D,MAAM,CAAN,CAAR;kBACE4D,GAAF,GAAQ5D,MAAM,CAAN,CAAR;kBACEG,KAAF,GAAUH,MAAM,CAAN,CAAV;kBACE6D,IAAF,GAAS7D,MAAM,CAAN,CAAT;qBACKG,KAAL,GAAasD,WAAW/D,EAAES,KAAb,CAAb;aANJ;iBAQKnB,SAAL,CAAeT,IAAf,IAAuBwE,IAAvB;mBACO,KAAK/D,SAAL,CAAeT,IAAf,CAAP;;;;iCAcKA,MAAM4B,OAAON,UAAU;gBACxBiD,OAAO,IAAX;gBACIjC,OAAO,KAAK9B,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAX;gBACIW,OAAO,KAAKC,oBAAL,EAAX;gBACIC,UAAU,KAAKvC,cAAL,CAAoB,KAApB,EAA2B,EAAEE,OAAO,aAAT,EAA3B,CAAd;gBACIuC,QAAQ,KAAKzC,cAAL,CAAoB,OAApB,EAA6B,EAAEE,OAAO,WAAT,EAA7B,CAAZ;gBACIR,WAAW,KAAKM,cAAL,CAAoB,OAApB,EAA6B;uBACjC,cADiC;oBAEpCqC,KAAK7B,EAF+B;sBAGlC;aAHK,CAAf;iBAKK3C,IAAL,GAAYA,IAAZ;iBACKR,IAAL,GAAY,UAAZ;iBACKoC,KAAL,GAAaA,KAAb;kBACMc,SAAN,GAAkB1C,IAAlB;kBACM4B,KAAN,GAAc5B,IAAd;gBACI4B,UAAU,IAAd,EAAoB;yBACPV,YAAT,CAAsB,SAAtB,EAAiC,IAAjC;;qBAEKsB,gBAAT,CAA0B,QAA1B,EAAoC,aAAK;qBAChCZ,KAAL,GAAaT,EAAE4D,MAAF,CAASQ,OAAtB;oBACIjE,QAAJ,EAAc;6BACDH,CAAT;;oBAEAoD,KAAK7D,cAAL,KAAwB,IAA5B,EAAkC;yBACzBiE,kBAAL,CAAwBxD,CAAxB;;aANR;oBASQxB,WAAR,CAAoBiF,KAApB;oBACQjF,WAAR,CAAoBkC,QAApB;iBACKlC,WAAL,CAAiB+E,OAAjB;iBACKX,QAAL,GAAgB,YAAW;uBAChBS,KAAKxD,OAAL,GAAeuE,OAAtB;aADJ;iBAGKvB,QAAL,GAAgB,UAASmB,CAAT,EAAY;qBACnBnE,OAAL,GAAeuE,OAAf,GAAyBJ,CAAzB;qBACKvD,KAAL,GAAauD,CAAb;aAFJ;iBAIK1E,SAAL,CAAeT,IAAf,IAAuBwE,IAAvB;mBACO,KAAK/D,SAAL,CAAeT,IAAf,CAAP;;;;8BAYEA,MAAM4B,OAAON,UAAU;gBACrBiD,OAAO,IAAX;gBACIjC,OAAO,KAAK9B,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAX;gBACIW,OAAO,KAAKC,oBAAL,EAAX;gBACIC,UAAU,KAAKvC,cAAL,CAAoB,KAApB,EAA2B,EAAEE,OAAO,aAAT,EAA3B,CAAd;gBACIuC,QAAQ,KAAKzC,cAAL,CAAoB,OAApB,EAA6B,EAAEE,OAAO,WAAT,EAA7B,CAAZ;gBACI4C,OAAO,KAAK9C,cAAL,CAAoB,MAApB,EAA4B,EAAEE,OAAO,gBAAT,EAA5B,CAAX;gBACIwC,QAAQ,KAAK1C,cAAL,CAAoB,OAApB,EAA6B;uBAC9B,WAD8B;oBAEjCqC,KAAK7B,EAF4B;sBAG/B;aAHE,CAAZ;iBAKK3C,IAAL,GAAYA,IAAZ;iBACKR,IAAL,GAAY,OAAZ;iBACKoC,KAAL,GAAaA,KAAb;kBACMV,YAAN,CAAmB,OAAnB,EAA4BU,KAA5B;kBACMY,gBAAN,CAAuB,OAAvB,EAAgC,aAAK;qBAC5BZ,KAAL,GAAaT,EAAE4D,MAAF,CAASnD,KAAtB;qBACKc,SAAL,GAAiBvB,EAAE4D,MAAF,CAASnD,KAA1B;oBACIN,QAAJ,EAAc;6BACDH,CAAT;;oBAEAoD,KAAK7D,cAAL,KAAwB,IAA5B,EAAkC;yBACzBiE,kBAAL,CAAwBxD,CAAxB;;aAPR;iBAUKuB,SAAL,GAAiBd,KAAjB;kBACMA,KAAN,GAAc5B,IAAd;kBACM0C,SAAN,GAAkB1C,IAAlB;kBACML,WAAN,CAAkBsF,IAAlB;oBACQtF,WAAR,CAAoBiF,KAApB;oBACQjF,WAAR,CAAoBkF,KAApB;iBACKlF,WAAL,CAAiB+E,OAAjB;iBACKX,QAAL,GAAgB,YAAW;uBAChBS,KAAKxD,OAAL,GAAeY,KAAtB;aADJ;iBAGKoC,QAAL,GAAgB,UAASmB,CAAT,EAAY;qBACnBnE,OAAL,GAAeY,KAAf,GAAuBuD,CAAvB;qBACKvD,KAAL,GAAauD,CAAb;qBACKzC,SAAL,GAAiByC,CAAjB;aAHJ;iBAKK1E,SAAL,CAAeT,IAAf,IAAuBwE,IAAvB;mBACO,KAAK/D,SAAL,CAAeT,IAAf,CAAP;;;;+BAYGA,MAAMyB,OAAOH,UAAU;gBACtBiD,OAAO,IAAX;gBACIjC,OAAO,KAAK9B,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAX;gBACIW,OAAO,KAAKC,oBAAL,EAAX;gBACIC,UAAU,KAAKvC,cAAL,CAAoB,KAApB,EAA2B,EAAEE,OAAO,aAAT,EAA3B,CAAd;gBACIuC,QAAQ,KAAKzC,cAAL,CAAoB,OAApB,EAA6B,EAAEE,OAAO,WAAT,EAA7B,CAAZ;gBACIX,SAAS,KAAKS,cAAL,CAAoB,QAApB,EAA8B;uBAChC,YADgC;oBAEnCqC,KAAK7B,EAF8B;sBAGjC3C;aAHG,CAAb;kBAKM0C,SAAN,GAAkB1C,IAAlB;kBACM4B,KAAN,GAAc5B,IAAd;oBACQL,WAAR,CAAoBiF,KAApB;kBACMY,GAAN,CAAU,gBAAQ;oBACVnC,SAASkB,KAAKkB,mBAAL,CAAyBrC,IAAzB,CAAb;uBACOsC,OAAP,CAAevC,GAAf,CAAmBE,MAAnB;aAFJ;mBAIOzB,KAAP,GAAeH,MAAM,CAAN,CAAf;mBACOe,gBAAP,CAAwB,QAAxB,EAAkC,aAAK;qBAC9BZ,KAAL,GAAaT,EAAE4D,MAAF,CAASnD,KAAtB;oBACIN,QAAJ,EAAc;6BACDH,CAAT;;oBAEAoD,KAAK7D,cAAL,KAAwB,IAA5B,EAAkC;yBACzBiE,kBAAL,CAAwBxD,CAAxB;;aANR;oBASQxB,WAAR,CAAoB+B,MAApB;iBACK/B,WAAL,CAAiB+E,OAAjB;iBACK9C,KAAL,GAAaH,MAAM,CAAN,CAAb;iBACKzB,IAAL,GAAYA,IAAZ;iBACKR,IAAL,GAAY,QAAZ;iBACKuE,QAAL,GAAgB,YAAW;oBACnB4B,UAAUnB,KAAKxD,OAAL,EAAd;uBACO2E,QAAQD,OAAR,CAAgBC,QAAQC,aAAxB,EAAuChE,KAA9C;aAFJ;iBAIKoC,QAAL,GAAgB,UAASmB,CAAT,EAAY;qBACnBvD,KAAL,GAAauD,CAAb;oBACIQ,UAAUnB,KAAKxD,OAAL,EAAd;uBACO0E,OAAP,CAAehE,OAAOkE,aAAtB,IAAuCrB,KAAKkB,mBAAL,CAAyBN,CAAzB,CAAvC;wBACQvD,KAAR,GAAgBuD,CAAhB;aAJJ;iBAMKf,QAAL,GAAgB,YAAW;uBAChByB,MACFC,IADE,CACGtB,KAAKxD,OAAL,GAAe0E,OADlB,EAEFF,GAFE,CAEE;2BAAUnC,OAAOzB,KAAjB;iBAFF,CAAP;aADJ;iBAKK0C,QAAL,GAAgB,UAAS7C,KAAT,EAAgB;oBACxBkE,UAAUnB,KAAKxD,OAAL,EAAd;sBACM+E,OAAN,CAAc,gBAAQ;wBACdC,SAASvE,MAAMwE,OAAN,CAAc7C,IAAd,CAAb;4BACQsC,OAAR,CAAgBM,MAAhB,IAA0BzB,KAAKkB,mBAAL,CAAyBrC,IAAzB,CAA1B;iBAFJ;aAFJ;iBAOK3C,SAAL,CAAeT,IAAf,IAAuBwE,IAAvB;mBACO,KAAK/D,SAAL,CAAeT,IAAf,CAAP;;;;+BAYGA,MAAMyB,OAAOH,UAAU;gBACtBiD,OAAO,IAAX;gBACIjC,OAAO,KAAK9B,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAX;gBACIW,OAAO,KAAKC,oBAAL,EAAX;gBACIC,UAAU,KAAKvC,cAAL,CAAoB,KAApB,EAA2B,EAAEE,OAAO,aAAT,EAA3B,CAAd;gBACIuC,QAAQ,KAAKzC,cAAL,CAAoB,OAApB,EAA6B,EAAEE,OAAO,WAAT,EAA7B,CAAZ;kBACMK,SAAN,GAAkB1C,IAAlB;kBACM4B,KAAN,GAAc5B,IAAd;gBACI6E,QAAQ,KAAK1C,cAAL,CAAoB,OAApB,EAA6B;uBAC9B,YAD8B;oBAEjCqC,KAAK7B,EAF4B;sBAG/B,QAH+B;uBAI9BlB,MAAM,CAAN,CAJ8B;sBAK/BA,MAAM,CAAN;aALE,CAAZ;kBAOMe,gBAAN,CAAuB,OAAvB,EAAgC,aAAK;qBAC5BZ,KAAL,GAAasD,WAAW/D,EAAE4D,MAAF,CAASnD,KAApB,CAAb;oBACIN,QAAJ,EAAc;6BACD4D,WAAW/D,CAAX,CAAT;;oBAEAoD,KAAK7D,cAAL,KAAwB,IAA5B,EAAkC;yBACzBiE,kBAAL,CAAwBxD,CAAxB;;aANR;iBASK3B,IAAL,GAAY,QAAZ;iBACKQ,IAAL,GAAYA,IAAZ;iBACK4B,KAAL,GAAaH,MAAM,CAAN,CAAb;iBACKsC,QAAL,GAAgB,YAAW;uBAChBmB,WAAWV,KAAKxD,OAAL,GAAeY,KAA1B,CAAP;aADJ;iBAGKoC,QAAL,GAAgB,UAASmB,CAAT,EAAY;qBACnBnE,OAAL,GAAeY,KAAf,GAAuBuD,CAAvB;qBACKvD,KAAL,GAAauD,CAAb;aAFJ;oBAIQxF,WAAR,CAAoBiF,KAApB;oBACQjF,WAAR,CAAoBkF,KAApB;iBACKlF,WAAL,CAAiB+E,OAAjB;iBACKjE,SAAL,CAAeT,IAAf,IAAuBwE,IAAvB;mBACO,KAAK/D,SAAL,CAAeT,IAAf,IAAuBwE,IAA9B;;;;6BAQCxE,MAAMsB,UAAU;gBACbiD,OAAO,IAAX;gBACIjC,OAAO,KAAK9B,MAAL,CAAYqD,UAAZ,CAAuB,CAAvB,CAAX;gBACIW,OAAO,KAAKC,oBAAL,EAAX;gBACIC,UAAU,KAAKvC,cAAL,CAAoB,KAApB,EAA2B,EAAEE,OAAO,aAAT,EAA3B,CAAd;gBACIuC,QAAQ,KAAKzC,cAAL,CAAoB,OAApB,EAA6B,EAAEE,OAAO,WAAT,EAA7B,CAAZ;gBACI6D,SAAS,KAAK/D,cAAL,CAAoB,OAApB,EAA6B;uBAC/B,UAD+B;oBAElCqC,KAAK7B,EAF6B;sBAGhC;aAHG,CAAb;iBAKK3C,IAAL,GAAYA,IAAZ;iBACKR,IAAL,GAAY,MAAZ;kBACMkD,SAAN,GAAkB1C,IAAlB;kBACM4B,KAAN,GAAc5B,IAAd;mBACOwC,gBAAP,CAAwB,QAAxB,EAAkC,aAAK;qBAC9BZ,KAAL,GAAaT,EAAE4D,MAAF,CAASnD,KAAtB;oBACIN,QAAJ,EAAc;6BACDH,CAAT;;oBAEAoD,KAAK7D,cAAT,EAAyB;yBAChBiE,kBAAL,CAAwBxD,CAAxB;;aANR;oBASQxB,WAAR,CAAoBiF,KAApB;oBACQjF,WAAR,CAAoBuG,MAApB;iBACKnC,QAAL,GAAgB,YAAW;uBAChBS,KAAKxD,OAAL,GAAemF,KAAf,CAAqB,CAArB,CAAP;aADJ;iBAGKnC,QAAL,GAAgB,UAASmB,CAAT,EAAY;qBACnBvD,KAAL,GAAauD,CAAb;qBACKnE,OAAL,GAAemF,KAAf,CAAqB,CAArB,IAA0BhB,CAA1B;aAFJ;iBAIKxF,WAAL,CAAiB+E,OAAjB;iBACKjE,SAAL,CAAeT,IAAf,IAAuBwE,IAAvB;mBACO,KAAK/D,SAAL,CAAeT,IAAf,IAAuBwE,IAA9B;;;;8BAUElD,UAAU;iBACPZ,cAAL,GAAsBY,QAAtB;;;;mCAyCO8E,QAAQ;;gBACX,CAACA,MAAL,EAAa;sBACH,IAAI/B,KAAJ,CAAU,6BAAV,CAAN;;gBAEA,OAAO+B,MAAP,KAAkB,QAAlB,IAA8B,CAACP,MAAMQ,OAAN,CAAcD,MAAd,CAAnC,EAA0D;oBAClD,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;6BACnBE,KAAKC,KAAL,CAAWH,MAAX,CAAT;;qBAEC,IAAInF,GAAT,IAAgBmF,MAAhB,EAAwB;wBAChBhF,SAASgF,OAAOnF,GAAP,CAAb;yBACKuF,oBAAL,CAA0BpF,MAA1B;;;gBAGJyE,MAAMQ,OAAN,CAAcD,MAAd,MAA0B,IAA9B,EAAoC;uBACzBL,OAAP,CAAe;2BAAS,OAAKS,oBAAL,CAA0BC,KAA1B,CAAT;iBAAf;;;;;;;;;"}